{
  "name": "File Operations Example",
  "description": "A program that demonstrates reading from and writing to files",
  "version": "1.0.0",
  "flow": {
    "nodes": [
      {
        "id": "inputFilepath",
        "type": "input",
        "position": { "x": 100, "y": 100 },
        "data": {
          "label": "Input Filepath",
          "type": "String",
          "defaultValue": "input.txt"
        }
      },
      {
        "id": "outputFilepath",
        "type": "input",
        "position": { "x": 100, "y": 200 },
        "data": {
          "label": "Output Filepath",
          "type": "String",
          "defaultValue": "output.txt"
        }
      },
      {
        "id": "fileContent",
        "type": "input",
        "position": { "x": 100, "y": 300 },
        "data": {
          "label": "Default Content",
          "type": "String",
          "defaultValue": "This is default content if input file doesn't exist."
        }
      },
      {
        "id": "readMode",
        "type": "input",
        "position": { "x": 350, "y": 50 },
        "data": {
          "label": "Read Mode",
          "type": "String",
          "defaultValue": "r"
        }
      },
      {
        "id": "writeMode",
        "type": "input",
        "position": { "x": 350, "y": 350 },
        "data": {
          "label": "Write Mode",
          "type": "String",
          "defaultValue": "w"
        }
      },
      {
        "id": "checkFileExists",
        "type": "function",
        "position": { "x": 350, "y": 150 },
        "data": {
          "functionId": "file_exists",
          "label": "Check If File Exists"
        }
      },
      {
        "id": "openInputFile",
        "type": "function",
        "position": { "x": 600, "y": 150 },
        "data": {
          "functionId": "file_open",
          "label": "Open Input File"
        }
      },
      {
        "id": "readInputFile",
        "type": "function",
        "position": { "x": 850, "y": 150 },
        "data": {
          "functionId": "file_read",
          "label": "Read File Content"
        }
      },
      {
        "id": "closeInputFile",
        "type": "function",
        "position": { "x": 1100, "y": 150 },
        "data": {
          "functionId": "file_close",
          "label": "Close Input File"
        }
      },
      {
        "id": "modifyContent",
        "type": "function",
        "position": { "x": 850, "y": 250 },
        "data": {
          "functionId": "string_concat",
          "label": "Add Timestamp to Content"
        }
      },
      {
        "id": "timestampText",
        "type": "input",
        "position": { "x": 600, "y": 250 },
        "data": {
          "label": "Timestamp Text",
          "type": "String",
          "defaultValue": "\n\nModified at: "
        }
      },
      {
        "id": "openOutputFile",
        "type": "function",
        "position": { "x": 600, "y": 350 },
        "data": {
          "functionId": "file_open",
          "label": "Open Output File"
        }
      },
      {
        "id": "writeOutputFile",
        "type": "function",
        "position": { "x": 850, "y": 350 },
        "data": {
          "functionId": "file_write",
          "label": "Write to File"
        }
      },
      {
        "id": "closeOutputFile",
        "type": "function",
        "position": { "x": 1100, "y": 350 },
        "data": {
          "functionId": "file_close",
          "label": "Close Output File"
        }
      },
      {
        "id": "displayContent",
        "type": "output",
        "position": { "x": 1100, "y": 250 },
        "data": {
          "label": "Modified Content"
        }
      }
    ],
    "edges": [
      {
        "id": "edge-inputFilepath-checkFileExists",
        "source": "inputFilepath",
        "sourceHandle": "output",
        "target": "checkFileExists",
        "targetHandle": "filepath"
      },
      {
        "id": "edge-inputFilepath-openInputFile",
        "source": "inputFilepath",
        "sourceHandle": "output",
        "target": "openInputFile",
        "targetHandle": "filepath"
      },
      {
        "id": "edge-readMode-openInputFile",
        "source": "readMode",
        "sourceHandle": "output",
        "target": "openInputFile",
        "targetHandle": "mode"
      },
      {
        "id": "edge-openInputFile-readInputFile",
        "source": "openInputFile",
        "sourceHandle": "output",
        "target": "readInputFile",
        "targetHandle": "file"
      },
      {
        "id": "edge-readInputFile-closeInputFile",
        "source": "openInputFile",
        "sourceHandle": "output",
        "target": "closeInputFile",
        "targetHandle": "file"
      },
      {
        "id": "edge-readInputFile-modifyContent",
        "source": "readInputFile",
        "sourceHandle": "output",
        "target": "modifyContent",
        "targetHandle": "str1"
      },
      {
        "id": "edge-timestampText-modifyContent",
        "source": "timestampText",
        "sourceHandle": "output",
        "target": "modifyContent",
        "targetHandle": "str2"
      },
      {
        "id": "edge-modifyContent-displayContent",
        "source": "modifyContent",
        "sourceHandle": "output",
        "target": "displayContent",
        "targetHandle": "input"
      },
      {
        "id": "edge-outputFilepath-openOutputFile",
        "source": "outputFilepath",
        "sourceHandle": "output",
        "target": "openOutputFile",
        "targetHandle": "filepath"
      },
      {
        "id": "edge-writeMode-openOutputFile",
        "source": "writeMode",
        "sourceHandle": "output",
        "target": "openOutputFile",
        "targetHandle": "mode"
      },
      {
        "id": "edge-openOutputFile-writeOutputFile",
        "source": "openOutputFile",
        "sourceHandle": "output",
        "target": "writeOutputFile",
        "targetHandle": "file"
      },
      {
        "id": "edge-modifyContent-writeOutputFile",
        "source": "modifyContent",
        "sourceHandle": "output",
        "target": "writeOutputFile",
        "targetHandle": "data"
      },
      {
        "id": "edge-openOutputFile-closeOutputFile",
        "source": "openOutputFile",
        "sourceHandle": "output",
        "target": "closeOutputFile",
        "targetHandle": "file"
      }
    ]
  },
  "expectedOutput": {
    "code": "# File Operations Example\n\n# Input definitions\ninput_filepath = \"input.txt\"\noutput_filepath = \"output.txt\"\ndefault_content = \"This is default content if input file doesn't exist.\"\nread_mode = \"r\"\nwrite_mode = \"w\"\ntimestamp_text = \"\\n\\nModified at: \"\n\n# Check if file exists\nif os.path.exists(input_filepath):\n    # Open, read and close input file\n    input_file = open(input_filepath, read_mode)\n    content = input_file.read()\n    input_file.close()\nelse:\n    # Use default content if file doesn't exist\n    content = default_content\n\n# Add timestamp to the content\nmodified_content = content + timestamp_text\n\n# Open, write and close output file\noutput_file = open(output_filepath, write_mode)\noutput_file.write(modified_content)\noutput_file.close()\n\n# Display the modified content\nprint(f\"Modified content:\\n{modified_content}\")"
  }
} 